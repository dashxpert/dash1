{% extends "base.html" %}

{% block content %}
<style>
    .container {
        background-color: #fff;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
        width: 80%;
        margin: 20px auto;
    }

    .page-title {
        font-size: 2em;
        color: #2c3e50;
        margin-top: 20px;
    }

    .section-title {
        font-size: 1.5em;
        color: #2c3e50;
        margin-top: 20px;
    }

    .data-table {
        width: 100%;
        border-collapse: collapse;
        margin: 20px 0;
        background-color: #fff;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }

    .data-table th, .data-table td {
        padding: 10px;
        text-align: left;
        border: 1px solid #ddd;
    }

    .data-table th {
        background-color: #2c3e50;
        color: white;
    }

    .data-table tr:nth-child(even) {
        background-color: #f2f2f2;
    }

    .config-list {
        list-style-type: none;
        padding: 0;
    }

    .config-list li {
        background-color: #fff;
        margin: 5px 0;
        padding: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
    }
</style>

<div class="container">
    <h1 class="page-title">Profile: {{ profile.user.username }}</h1>
    <p><strong>Service Usage Count:</strong> {{ profile.service_usage_count }}</p>
    <p><strong>Subscription Start Date:</strong> {{ profile.subscription_start_date }}</p>
    <p><strong>Subscription End Date:</strong> {{ profile.subscription_end_date }}</p>


    <h2 class="section-title">Uploaded Datasets</h2>
    <table class="data-table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Upload Date</th>
                <th>File Hash</th>
            </tr>
        </thead>
        <tbody>
            {% for dataset in datasets %}
            <tr>
                <td>{{ dataset.name }}</td>
                <td>{{ dataset.upload_date }}</td>
                <td>{{ dataset.file_hash }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <h2 class="section-title">Uploaded Files</h2>
    <table class="data-table">
        <thead>
            <tr>
                <th>File Name</th>
                <th>Upload Date</th>
            </tr>
        </thead>
        <tbody>
            {% for uploaded_file in uploaded_files %}
            <tr>
                <td>{{ uploaded_file.file.name }}</td>
                <td>{{ uploaded_file.uploaded_at }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <h2 class="section-title">Activity Log</h2>
    <table class="data-table">
        <thead>
            <tr>
                <th>Activity Type</th>
                <th>Timestamp</th>
            </tr>
        </thead>
        <tbody>
            {% for activity in activities %}
            <tr>
                <td>{{ activity.activity_type }}</td>
                <td>{{ activity.timestamp }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>

    <h2 class="section-title">Dashboard Configurations</h2>
    <ul class="config-list">
        {% for config in dashboard_configs %}
        <li>{{ config.name }}: {{ config.config }}</li>
        {% endfor %}
    </ul>
</div>
{% endblock content %}
